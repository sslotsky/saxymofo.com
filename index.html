<html>
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Guntur&family=Hind+Siliguri&family=Mako&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
    }

    #garden {
      display: grid;
      height: 100vh;
      grid-template-rows: auto 1fr auto;
      grid-template-areas:
        "header"
        "main"
        "footer"
    }

    #header {
      grid-area: header;
    }

    #floating-header {
      width: 100%;
      top: -70px;
      height: 0;
      position: fixed;
      filter: invert(1);
      transform: scaleY(0);
      transition: all 0.5s ease-out;
    }

    #floating-header.sticky {
      top: 0;
      height: auto;
      transform: scaleY(1);
    }

    main {
      grid-area: main;
    }

    main article {
      padding: 0 20%;
      font-size: 2rem;
    }

    main article p {
      font-family: 'Hind Siliguri', sans-serif;
    }
    
    footer {
      grid-area: footer;
      display: grid;
      grid-template-columns: 20% 20% 1fr;
      width: 100%;
      background-color: #632A50;
      color: white;
      text-align: center;
    }

    #hero {
      background: no-repeat url('./saxymofo.jpg') center;
      background-size: cover;
      height: 40rem;
    }

    sign-up {
      grid-column-start: 2;
    }

    a {
      text-decoration: none;
    }

    #header {
      text-align: center;
      width: 100%;
      display: grid;
      grid-template-columns: 25% 1fr 1fr;
      background-color: #fff;
      font-family: 'Hind Siliguri', sans-serif;
    }

    #header h1 {
      font-size: 1.5rem;
    }

    #header nav {
      text-align: left;
      align-self: center;
    }

    #header nav a {
      margin-right: 1rem;
    }

    #header .logo {
      text-align: right;
    }
  </style>

  <script type="module" defer>
    import { initialize as initializeSiteHeader } from './site-header.js';
    import { initialize as initializeSignUp } from './sign-up.js';
    import { initialize as initializeLessonLink } from './lesson-link.js';

    initializeSiteHeader();
    initializeSignUp();
    initializeLessonLink();
  </script>

  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
  <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
</head>
<body>
  <div id="garden">
    <header id="header">
      <div class="logo">
        <h1><a href="/">SaxyMofo</a></h1>
      </div>
      <div></div>
      <nav>
        <a href="/">Home</a>
        <a href="/">Shows</a>
        <a href="/">Videos</a>
        <a is="lesson-link" href="">Lessons</a>
      </nav>
    </header>
    <site-header id="floating-header"></site-header>
    <main>
      <section id="hero"></section>
      <article>
        <p>
          Sam Slotsky is a saxophonist based in the Twin Cities, Minnesota.
          During daylight he appears cleverly disguised as a mild mannered
          software engineer, but alas, do not be fooled. In reality, Sam
          exists in an ontological state in which he is either playing the
          saxophone, or wishes to be playing the saxophone. He is Schrodinger's
          Hepcat, and only by observing him will the wave function collapse and
          reveal his actual state.
        </p>
        <p>
          Sam plays soprano, alto, and baritone saxophones and has experience
          collaborating with musicians across many genres, including jazz, blues,
          classic rock, bluegrass, and klezmer music. He currently plays as a sideman
          with the 2nd Mouse jazz trio and
          <a target="_blank" href="https://www.instagram.com/erikchristensonmusic/">Erik Christenson's blues band</a>, and performs
          a solo act at the Crystal Farmers Market. He is available for ad-hoc gigs
          as well as lessons in saxophone performance, improvisation, and music theory.
        </p>
        <p>
          Sam studied music at the University of Iowa with a focus in jazz studies.
          It is here that he also earned a computer science degree in order to 
          maintain his daytime ruse. Again, please do not be fooled by his mild
          mannered appearance.
        </p>
      </article>
    </main>
    <footer>
      <sign-up></sign-up>
    </footer>
  </div>
</body>
<script type="text/javascript">
  var scrollableElement = document.body;
  var header = document.getElementById("floating-header");
  var mainHeader = document.getElementById("header");

  scrollableElement.addEventListener('wheel', checkScrollDirection);

  function checkScrollDirection(event) {
    if (checkScrollDirectionIsUp(event) && document.body.scrollTop > mainHeader.clientHeight) {
      if (!header.classList.contains("sticky")) {
        header.classList.add("sticky");
      }
    } else {
      if (header.classList.contains("sticky")) {
        header.classList.remove("sticky");
      }
    }
  }

  function checkScrollDirectionIsUp(event) {
    if (event.wheelDelta) {
      return event.wheelDelta > 0;
    }
    return event.deltaY < 0;
  }
</script>
</html>