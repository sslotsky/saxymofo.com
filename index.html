<html>
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Guntur&family=Hind+Siliguri&family=Mako&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
    }

    #garden {
      display: grid;
      height: 100vh;
      grid-template-rows: auto 1fr auto;
      grid-template-areas:
        "header"
        "main"
        "footer"
    }

    #header {
      grid-area: header;
    }

    #floating-header {
      width: 100%;
      top: -70px;
      height: 0;
      position: fixed;
      transform: scaleY(0);
      transition: all 0.5s ease-out;
    }

    #floating-header.sticky {
      top: 0;
      height: auto;
      transform: scaleY(1);
      filter: invert(1);
    }

    main {
      grid-area: main;
    }

    main article {
      padding: 0 20%;
      font-size: 2rem;
    }

    main article p {
      font-family: 'Hind Siliguri', sans-serif;
    }
    
    footer {
      grid-area: footer;
      display: grid;
      grid-template-columns: 20% 20% 1fr;
      width: 100%;
      background-color: darkslategray;
      color: white;
      text-align: center;
    }

    #hero {
      background: no-repeat url('./saxymofo.jpg') center;
      background-size: cover;
      height: 40rem;
    }

    #mc_embed_signup {
      grid-column-start: 2;
    }
  </style>
</head>
<body>
  <template id="sign-up">
    <style type="text/css">
      form {
        display: grid;
        grid-gap: 0.75rem 0.25rem;
        font-family: 'Hind Siliguri', sans-serif;
        grid-template-areas:
          "title title"
          "fname lname"
          "email email"
          "submit submit"
      }

      form p.description {
        margin: 0;  
      }

      form input {
        padding: 0.25rem;
        border-radius: 5px; 
      }

      form .title {
        grid-area: title;
      }

      form h2 {
        margin-bottom: 0; 
      }

      form input[name="FNAME"] {
        grid-area: fname;
      }

      form input[name="LNAME"] {
        grid-area: lname;
      }

      form input[name="EMAIL"] {
        grid-area: email;
      }

      input:invalid {
        background: linear-gradient(to right, pink, lightgreen);
        background-size: 400% 400%;
        animation: gradient 5s ease infinite;
      }

      @keyframes gradient {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      input[type="submit"] {
        grid-area: submit;
      }

    </style>
    <div id="mc_embed_signup">
      <form action="https://gmail.us11.list-manage.com/subscribe/post?u=8e14ef99f88d9b5af62b51a92&amp;id=e6dafc7af4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
        <div class="title">
          <h2>Get on the list</h2>
          <p class="description">Sign up to get updates about upcoming shows</p>
        </div>
        <input type="text" placeholder="First Name" name="FNAME" class="" id="mce-FNAME">
        <input type="text" placeholder="Last Name" name="LNAME" class="" id="mce-LNAME">
        <input type="email" placeholder="Email Address" name="EMAIL" required id="mce-EMAIL">
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_8e14ef99f88d9b5af62b51a92_e6dafc7af4" tabindex="-1" value=""></div>
        <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
      </form>
    </div>
  </template>
  <template id="site-header">
    <style>
      header {
        text-align: center;
        width: 100%;
        display: grid;
        grid-template-columns: 25% 1fr 1fr;
        background-color: #fff;
        font-family: 'Hind Siliguri', sans-serif;
      }

      h1 {
        font-size: 1.5rem;
      }

      nav {
        text-align: left;
        align-self: center;
      }

      nav a {
        text-decoration: none;
        margin-right: 1rem;
      }

      .logo {
        text-align: right;
      }
    </style>
    <header>
      <div class="logo">
        <h1>SaxyMofo</h1>
      </div>
      <div></div>
      <nav>
        <a href="/">Home</a>
        <a href="/">Shows</a>
        <a href="/">Videos</a>
        <a href="/">Lessons</a>
      </nav>
    </header>
  </template>

  <div id="garden">
    <site-header id="header"></site-header>
    <site-header id="floating-header"></site-header>
    <main>
      <section id="hero">
        <!-- <img src="./saxymofo.jpg" /> -->
      </section>
      <article>
        <p>
          Sam Slotsky is a saxophonist based in the Twin Cities, Minnesota.
          During daylight he appears cleverly disguised as a mild mannered
          software engineer, but alas, do not be fooled. In reality, Sam
          exists in an ontological state in which he is either playing the
          saxophone, or wishes to be playing the saxophone. He is Schrodinger's
          Hepcat, and only by observing him will the wave function collapse and
          reveal his actual state.
        </p>
        <p>
          Sam plays soprano, alto, and baritone saxophones and has experience
          collaborating with musicians across many genres, including jazz, blues,
          classic rock, bluegrass, and klezmer music. He currently plays as a sideman
          with the 2nd Mouse jazz trio and Erik Christenson's blues band, and performs
          a solo act at the Crystal Farmers Market. He is available for ad-hoc gigs
          as well as lessons in saxophone performance, improvisation, and music theory.
        </p>
        <p>
          Sam studied music at the University of Iowa with a focus in jazz studies.
          It is here that he also earned a computer science degree in order to 
          maintain his daytime ruse. Again, please do not be fooled by his mild
          mannered appearance.
        </p>
      </article>
    </main>
    <footer>
      <sign-up id="mc_embed_signup"></sign-up>
    </footer>
  </div>
</body>
<script type="text/javascript">
  var scrollableElement = document.body;
  var header = document.getElementById("floating-header");
  var mainHeader = document.getElementById("header");

  scrollableElement.addEventListener('wheel', checkScrollDirection);

  function checkScrollDirection(event) {
    if (checkScrollDirectionIsUp(event) && document.body.scrollTop > mainHeader.clientHeight) {
      if (!header.classList.contains("sticky")) {
        header.classList.add("sticky");
      }
    } else {
      if (header.classList.contains("sticky")) {
        header.classList.remove("sticky");
      }
    }
  }

  function checkScrollDirectionIsUp(event) {
    if (event.wheelDelta) {
      return event.wheelDelta > 0;
    }
    return event.deltaY < 0;
  }
</script>
<script type="module">
  import { initialize as initializeSiteHeader } from './site-header.js';
  import { initialize as initializeSignUp } from './sign-up.js';

  initializeSiteHeader();
  initializeSignUp();
</script>
</html>