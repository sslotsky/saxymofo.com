<html>
<head>
  <style>
    body {
      margin: 0;
    }

    #garden {
      display: grid;
      height: 100vh;
      grid-template-rows: 50px 1fr 200px;
      grid-template-areas:
        "header"
        "main"
        "footer"
    }

    #header {
      grid-area: header;
    }

    #floating-header {
      width: 100%;
      transform: scaleY(0);
      background-color: #fff;
      transition: all 0.5s ease-out;
    }

    #floating-header.sticky {
      transform: scaleY(1);
      position: fixed;
      height: 50px;
    }

    main {
      grid-area: main;
    }

    main article {
      padding: 0 20%;
      font-size: 2rem;
    }

    footer {
      grid-area: footer;
      width: 100%;
      background-color: red;
      text-align: center;
    }

    #hero {
      text-align: center;
    }

  </style>
</head>
<body>
  <template id="site-header">
    <style>
      header {
        text-align: center;
        width: 100%;
        display: grid;
        grid-template-columns: 25% 1fr 1fr;
      }

      nav {
        text-align: left;
        align-self: center;
      }

      nav a {
        text-decoration: none;
        margin-right: 1rem;
      }

      .logo {
        text-align: right;
      }
    </style>
    <header>
      <div class="logo">
        <p>SaxyMofo</p>
      </div>
      <div></div>
      <nav>
        <a href="/">Home</a>
        <a href="/">Shows</a>
        <a href="/">Lessons</a>
      </nav>
    </header>
  </template>

  <div id="garden">
    <site-header id="header"></site-header>
    <site-header id="floating-header"></site-header>
    <main>
      <section id="hero">
        <img src="./saxymofo.jpg" />
      </section>
      <article>
        <p>
          Sam Slotsky is a saxophonist based in the Twin Cities, Minnesota.
          During daylight he appears cleverly disguised as a mild mannered
          software engineer, but alas, do not be fooled. In reality, Sam
          exists in an ontological state in which he is either playing the
          saxophone, or wishes to be playing the saxophone. He is Schrodinger's
          Hepcat, and only by observing him will the wave function collapse and
          reveal his actual state.
        </p>
        <p>
          Sam plays soprano, alto, and baritone saxophones and has experience
          collaborating with musicians across many genres, including jazz, blues,
          classic rock, bluegrass, and klezmer music. He currently plays as a sideman
          with the 2nd Mouse jazz trio and Erik Christenson's blues band, and performs
          a solo act at the Crystal Farmers Market.
        </p>
        <p>
          Sam studied music at the University of Iowa with a focus in jazz studies.
          It is here that he also earned a computer science degree in order to 
          maintain his daytime ruse. Again, please do not be fooled by his mild
          mannered appearance.
        </p>
      </article>
    </main>
    <footer><p>Footer stuff</p></footer>
  </div>
</body>
<script type="text/javascript">
  var scrollableElement = document.body;
  var header = document.getElementById("floating-header");
  var mainHeader = document.getElementById("header");

  scrollableElement.addEventListener('wheel', checkScrollDirection);

  function checkScrollDirection(event) {
    if (checkScrollDirectionIsUp(event) && document.body.scrollTop > mainHeader.clientHeight) {
      if (!header.classList.contains("sticky")) {
        header.classList.add("sticky");
      }
    } else {
      if (header.classList.contains("sticky")) {
        header.classList.remove("sticky");
      }
    }
  }

  function checkScrollDirectionIsUp(event) {
    if (event.wheelDelta) {
      return event.wheelDelta > 0;
    }
    return event.deltaY < 0;
  }
</script>
<script type="module">
  import { initialize } from './site-header.js';

  initialize();
</script>
</html>